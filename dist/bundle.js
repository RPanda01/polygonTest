(()=>{var t={56:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{"use strict";var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var s={},i=[],a=0;a<t.length;a++){var l=t[a],c=o.base?l[0]+o.base:l[0],d=s[c]||0,u="".concat(c," ").concat(d);s[c]=d+1;var p=n(u),g={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(g);else{var h=r(g,o);o.byIndex=a,e.splice(a,0,{identifier:u,updater:h,references:1})}i.push(u)}return i}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var s=o(t=t||[],r=r||{});return function(t){t=t||[];for(var i=0;i<s.length;i++){var a=n(s[i]);e[a].references--}for(var l=o(t,r),c=0;c<s.length;c++){var d=n(s[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}s=l}}},113:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},314:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,r,s){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(o)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(i[l]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);o&&i[d[0]]||(void 0!==s&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),e.push(d))}},e}},365:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var o=n(601),r=n.n(o),s=n(314),i=n.n(s)()(r());i.push([t.id,"body {\n  font-family: Arial, sans-serif;\n  margin: 20px;\n  padding: 0;\n  background-color: #f5f5f5;\n}\n\n.container {\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.controls {\n  margin-bottom: 20px;\n  text-align: center;\n}\n\n.controls button {\n  margin: 0 10px;\n  padding: 10px 20px;\n  font-size: 16px;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n#createBtn {\n  background-color: #4CAF50;\n  color: white;\n}\n\n#createBtn:hover {\n  background-color: #45a049;\n}\n\n#saveBtn {\n  background-color: #2196F3;\n  color: white;\n}\n\n#saveBtn:hover {\n  background-color: #1976D2;\n}\n\n#resetBtn {\n  background-color: #f44336;\n  color: white;\n}\n\n#resetBtn:hover {\n  background-color: #d32f2f;\n}\n\n.zones {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.zone {\n  width: 100%;\n  border: 2px solid #ddd;\n  border-radius: 8px;\n  background: white;\n  overflow: hidden;\n  position: relative;\n}\n\n\n.zone-header {\n  background-color: #f8f9fa;\n  padding: 10px;\n  font-weight: bold;\n  border-bottom: 1px solid #ddd;\n}\n\n.zone-content {\n  width: 100%;\n  position: relative;\n  max-height: 400px;\n}\n\n\n.buffer-zone .zone-header {\n  background-color: #e3f2fd;\n}\n\n.work-zone .zone-header {\n  background-color: #e8f5e8;\n}\n\n.buffer, .work {\n  border: 1px solid #ccc;\n  margin: 10px 0;\n  height: 300px;\n  overflow: auto;\n  position: relative;\n}\n\nsvg {\n  width: 100%;\n  height: 100%;\n  min-height: 300px;\n  cursor: grab;\n}\n\nsvg:active {\n  cursor: grabbing;\n}\n\n.polygon {\n  cursor: move;\n  transition: opacity 0.2s;\n}\n\n.polygon:hover {\n  opacity: 0.8;\n}\n\n.drag-over {\n  background-color: #f0f8ff;\n  border-color: #4CAF50;\n  box-shadow: 0 0 10px rgba(76, 175, 80, 0.5);\n}\n\n.polygon-group {\n  cursor: pointer;\n  transition: opacity 0.2s;\n}\n\n.polygon-group:hover {\n  opacity: 0.8;\n}\n\n.buffer-zone .polygon-group {\n  cursor: grab;\n}\n\n.buffer-zone .polygon-group:active {\n  cursor: grabbing;\n}\n\n.work-zone .polygon-group {\n  cursor: grab;\n}\n\n.work-zone .polygon-group:active {\n  cursor: grabbing;\n}\n\n/* Стили для шкал измерений */\n.scale-x, .scale-y {\n  pointer-events: none;\n}\n\n.scale-x text, .scale-y text {\n  user-select: none;\n  pointer-events: none;\n}\n\n.scale-x line, .scale-y line {\n  pointer-events: none;\n}\n\n.scale-x rect, .scale-y rect {\n  pointer-events: none;\n}\n\n.instructions {\n  margin-top: 20px;\n  padding: 15px;\n  background-color: #fff3cd;\n  border: 1px solid #ffeaa7;\n  border-radius: 5px;\n}\n\n.instructions h3 {\n  margin-top: 0;\n  color: #856404;\n}\n\n.instructions ul {\n  margin-bottom: 0;\n  color: #856404;\n}",""]);const a=i},533:()=>{class t extends HTMLElement{constructor(){super(),this.scale=1,this.panX=0,this.panY=0,this.polygons=[],this.selectedPolygon=null,this.innerHTML='\n      <div class="zone-header">Рабочая зона</div>\n      <div class="zone-content">\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000">\n          <g class="grid"></g>\n          <g class="scale-x"></g>\n          <g class="scale-y"></g>\n          <g class="polygons"></g>\n        </svg>\n      </div>\n    '}connectedCallback(){const t=this.querySelector("svg"),e=this.querySelector(".zone-content");this.drawGrid(),this.drawScales(),this.loadWorkZonePolygons(),this.enableZoomAndPan(t,e),t.addEventListener("dragover",(t=>t.preventDefault())),t.addEventListener("drop",(t=>{t.preventDefault();const e=t.dataTransfer.getData("text/plain"),n=t.dataTransfer.getData("source");this.addPolygon(e),"buffer"===n&&document.querySelector("buffer-zone").removePolygon(e)}))}clearPolygons(){this.polygons=[],this.querySelector(".polygons").innerHTML="",this.saveWorkZonePolygons()}addPolygon(t){this.polygons.includes(t)||this.polygons.push(t);const e=this.querySelector(".polygons"),n=document.createElementNS("http://www.w3.org/2000/svg","g");n.classList.add("polygon-group");const o=document.createElementNS("http://www.w3.org/2000/svg","polygon");o.setAttribute("points",t),o.setAttribute("fill","rgba(76, 175, 80, 0.7)"),o.setAttribute("stroke","#4CAF50"),o.setAttribute("stroke-width","2"),o.classList.add("polygon"),o.dataset.points=t,n.appendChild(o),e.appendChild(n),this.setupPolygonDragAndDrop(n,t),n.addEventListener("dblclick",(()=>{confirm("Удалить этот полигон?")&&(this.removePolygonFromArray(t),n.remove(),this.saveWorkZonePolygons())})),this.saveWorkZonePolygons()}setupPolygonDragAndDrop(t,e){let n,o,r=!1,s=e.split(" ").map((t=>t.split(",").map(Number))),i=[...s];t.addEventListener("mousedown",(s=>{s.target.closest(".polygon-group")&&(r=!0,n=s.clientX,o=s.clientY,t.style.opacity="0.7",this.selectedPolygon=e,s.preventDefault(),s.stopPropagation())})),document.addEventListener("mousemove",(a=>{if(r&&this.selectedPolygon===e){const e=(a.clientX-n)/this.scale,r=(a.clientY-o)/this.scale;i=s.map((([t,n])=>[t+e,n+r]));const l=i.map((t=>t.join(","))).join(" ");t.querySelector("polygon").setAttribute("points",l);const c=document.querySelector("buffer-zone"),d=c.getBoundingClientRect();a.clientX>=d.left&&a.clientX<=d.right&&a.clientY>=d.top&&a.clientY<=d.bottom?c.classList.add("drag-over"):c.classList.remove("drag-over")}})),document.addEventListener("mouseup",(n=>{if(r&&this.selectedPolygon===e){r=!1,t.style.opacity="1";const o=document.querySelector("buffer-zone"),a=o.getBoundingClientRect();if(n.clientX>=a.left&&n.clientX<=a.right&&n.clientY>=a.top&&n.clientY<=a.bottom){const n=s.reduce(((t,[e,n])=>[t[0]+e,t[1]+n]),[0,0]).map((t=>t/s.length)),r=150-n[0],i=150-n[1],a=s.map((([t,e])=>[t+r,e+i])).map((t=>t.join(","))).join(" ");o.addPolygon(a),this.removePolygonFromArray(e),t.remove(),this.saveWorkZonePolygons()}else{const n=i.map((t=>t.join(","))).join(" ");t.querySelector("polygon").setAttribute("points",n),t.querySelector("polygon").dataset.points=n;const o=this.polygons.indexOf(e);o>-1&&(this.polygons[o]=n),this.saveWorkZonePolygons()}o.classList.remove("drag-over"),this.selectedPolygon=null,s=i}}))}removePolygon(t){this.removePolygonFromArray(t);const e=this.querySelector(".polygons");Array.from(e.querySelectorAll("polygon")).forEach((e=>{e.getAttribute("points")!==t&&e.dataset.points!==t||e.parentElement.remove()})),this.saveWorkZonePolygons()}removePolygonFromArray(t){const e=this.polygons.indexOf(t);e>-1&&this.polygons.splice(e,1)}enableZoomAndPan(t,e){let n,o,r=!1;e.addEventListener("wheel",(e=>{e.preventDefault();const n=e.deltaY>0?.9:1.1;this.scale=Math.max(.1,Math.min(5,this.scale*n)),this.updateTransform(t),this.drawGrid(),this.drawScales()})),e.addEventListener("mousedown",(t=>{t.target.closest(".polygon-group")||(r=!0,n=t.clientX,o=t.clientY,e.style.cursor="grabbing",t.preventDefault())})),document.addEventListener("mousemove",(e=>{if(r){const r=e.clientX-n,s=e.clientY-o;this.panX+=r/this.scale,this.panY+=s/this.scale,this.updateTransform(t),this.drawScales(),n=e.clientX,o=e.clientY}})),document.addEventListener("mouseup",(()=>{r&&(r=!1,e.style.cursor="grab")}))}updateTransform(t){t.querySelector(".polygons").setAttribute("transform",`scale(${this.scale}) translate(${this.panX}, ${this.panY})`)}drawGrid(){const t=this.querySelector(".grid");t.innerHTML="";let e=50;this.scale<.5?e=200:this.scale<1?e=100:this.scale>2?e=25:this.scale>4&&(e=12.5);for(let n=0;n<=1e3;n+=e){const e=document.createElementNS("http://www.w3.org/2000/svg","line");e.setAttribute("x1",n),e.setAttribute("y1",0),e.setAttribute("x2",n),e.setAttribute("y2",400),e.setAttribute("stroke","#e0e0e0"),e.setAttribute("stroke-width","0.5"),t.appendChild(e)}for(let n=0;n<=400;n+=e){const e=document.createElementNS("http://www.w3.org/2000/svg","line");e.setAttribute("x1",0),e.setAttribute("y1",n),e.setAttribute("x2",1e3),e.setAttribute("y2",n),e.setAttribute("stroke","#e0e0e0"),e.setAttribute("stroke-width","0.5"),t.appendChild(e)}}drawScales(){this.drawXScale(),this.drawYScale()}drawXScale(){const t=this.querySelector(".scale-x");t.innerHTML="";let e=50;this.scale<.5?e=200:this.scale<1?e=100:this.scale>2?e=25:this.scale>4&&(e=12.5);const n=document.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("x",0),n.setAttribute("y",0),n.setAttribute("width",1e3),n.setAttribute("height",25),n.setAttribute("fill","rgba(248, 249, 250, 0.95)"),n.setAttribute("stroke","#dee2e6"),n.setAttribute("stroke-width","1"),t.appendChild(n);for(let n=50;n<=1e3;n+=e){const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",n),o.setAttribute("y1",20),o.setAttribute("x2",n),o.setAttribute("y2",25),o.setAttribute("stroke","#495057"),o.setAttribute("stroke-width","1"),t.appendChild(o);const r=document.createElementNS("http://www.w3.org/2000/svg","text");r.setAttribute("x",n),r.setAttribute("y",15),r.setAttribute("text-anchor","middle"),r.setAttribute("font-family","Arial, sans-serif"),r.setAttribute("font-size","10"),r.setAttribute("fill","#495057");const s=Math.round(n/this.scale-this.panX);if(r.textContent=s,t.appendChild(r),e>=20){const o=e/2;if(n+o<=1e3){const e=document.createElementNS("http://www.w3.org/2000/svg","line");e.setAttribute("x1",n+o),e.setAttribute("y1",22),e.setAttribute("x2",n+o),e.setAttribute("y2",25),e.setAttribute("stroke","#6c757d"),e.setAttribute("stroke-width","0.5"),t.appendChild(e)}}}const o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("x",500),o.setAttribute("y",8),o.setAttribute("text-anchor","middle"),o.setAttribute("font-family","Arial, sans-serif"),o.setAttribute("font-size","12"),o.setAttribute("font-weight","bold"),o.setAttribute("fill","#212529"),o.textContent="X",t.appendChild(o)}drawYScale(){const t=this.querySelector(".scale-y");t.innerHTML="";let e=50;this.scale<.5?e=200:this.scale<1?e=100:this.scale>2?e=25:this.scale>4&&(e=12.5);const n=document.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("x",0),n.setAttribute("y",0),n.setAttribute("width",30),n.setAttribute("height",400),n.setAttribute("fill","rgba(248, 249, 250, 0.95)"),n.setAttribute("stroke","#dee2e6"),n.setAttribute("stroke-width","1"),t.appendChild(n);for(let n=50;n<=400;n+=e){const o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",25),o.setAttribute("y1",n),o.setAttribute("x2",30),o.setAttribute("y2",n),o.setAttribute("stroke","#495057"),o.setAttribute("stroke-width","1"),t.appendChild(o);const r=document.createElementNS("http://www.w3.org/2000/svg","text");r.setAttribute("x",22),r.setAttribute("y",n+3),r.setAttribute("text-anchor","end"),r.setAttribute("font-family","Arial, sans-serif"),r.setAttribute("font-size","10"),r.setAttribute("fill","#495057");const s=Math.round(n/this.scale-this.panY);if(r.textContent=s,t.appendChild(r),e>=20){const o=e/2;if(n+o<=400){const e=document.createElementNS("http://www.w3.org/2000/svg","line");e.setAttribute("x1",27),e.setAttribute("y1",n+o),e.setAttribute("x2",30),e.setAttribute("y2",n+o),e.setAttribute("stroke","#6c757d"),e.setAttribute("stroke-width","0.5"),t.appendChild(e)}}}const o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("x",8),o.setAttribute("y",200),o.setAttribute("text-anchor","middle"),o.setAttribute("font-family","Arial, sans-serif"),o.setAttribute("font-size","12"),o.setAttribute("font-weight","bold"),o.setAttribute("fill","#212529"),o.setAttribute("transform","rotate(-90, 8, 200)"),o.textContent="Y",t.appendChild(o)}saveWorkZonePolygons(){const t="undefined"!=typeof localStorage?localStorage:{data:{},setItem(t,e){this.data[t]=e},getItem(t){return this.data[t]||null}};try{t.setItem("workZonePolygons",JSON.stringify(this.polygons))}catch(t){console.warn("Не удалось сохранить полигоны рабочей зоны")}}loadWorkZonePolygons(){const t=("undefined"!=typeof localStorage?localStorage:{data:{},setItem(t,e){this.data[t]=e},getItem(t){return this.data[t]||null}}).getItem("workZonePolygons");if(t)try{JSON.parse(t).forEach((t=>{this.polygons.push(t),this.renderSinglePolygon(t)}))}catch(t){console.warn("Не удалось загрузить сохраненные полигоны рабочей зоны")}}renderSinglePolygon(t){const e=this.querySelector(".polygons"),n=document.createElementNS("http://www.w3.org/2000/svg","g");n.classList.add("polygon-group");const o=document.createElementNS("http://www.w3.org/2000/svg","polygon");o.setAttribute("points",t),o.setAttribute("fill","rgba(76, 175, 80, 0.7)"),o.setAttribute("stroke","#4CAF50"),o.setAttribute("stroke-width","2"),o.classList.add("polygon"),o.dataset.points=t,n.appendChild(o),e.appendChild(n),this.setupPolygonDragAndDrop(n,t),n.addEventListener("dblclick",(()=>{confirm("Удалить этот полигон?")&&(this.removePolygonFromArray(t),n.remove(),this.saveWorkZonePolygons())}))}getPolygonsData(){return this.polygons}}customElements.define("work-zone",t)},540:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{"use strict";t.exports=function(t){return t[1]}},659:t=>{"use strict";var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},798:()=>{const t="undefined"!=typeof localStorage?localStorage:{data:{},setItem(t,e){this.data[t]=e},getItem(t){return this.data[t]||null},removeItem(t){delete this.data[t]}};class e extends HTMLElement{constructor(){super(),this.polygons=[],this.selectedPolygon=null,this.innerHTML='\n      <div class="zone-header">Буферная зона</div>\n      <div class="zone-content">\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"></svg>\n      </div>\n    '}connectedCallback(){const e=t.getItem("polygons");if(e)try{this.renderPolygons(JSON.parse(e))}catch(t){console.warn("Не удалось загрузить сохраненные полигоны")}const n=this.querySelector("svg");n.addEventListener("dragover",(t=>t.preventDefault())),n.addEventListener("drop",(t=>{t.preventDefault();const e=t.dataTransfer.getData("text/plain");"work"===t.dataTransfer.getData("source")&&(this.addPolygon(e),document.querySelector("work-zone").removePolygon(e))}))}addPolygon(t){this.polygons.includes(t)||(this.polygons.push(t),this.renderSinglePolygon(t,this.polygons.length-1),this.savePolygons())}renderSinglePolygon(t,e){const n=this.querySelector("svg"),o=document.createElementNS("http://www.w3.org/2000/svg","g");o.classList.add("polygon-group");const r=document.createElementNS("http://www.w3.org/2000/svg","polygon");r.setAttribute("points",t),r.setAttribute("fill",`hsl(${200+30*e}, 70%, 80%)`),r.setAttribute("stroke","#1976D2"),r.setAttribute("stroke-width","2"),r.classList.add("polygon"),r.dataset.points=t,o.appendChild(r),n.appendChild(o),this.setupPolygonHandlers(o,t)}renderPolygons(t){this.polygons=t,this.querySelector("svg").innerHTML="",t.forEach(((t,e)=>{this.renderSinglePolygon(t,e)}))}setupPolygonHandlers(t,e){let n,o,r=!1,s=e.split(" ").map((t=>t.split(",").map(Number))),i=[...s];t.addEventListener("mousedown",(s=>{r=!0,n=s.clientX,o=s.clientY,t.style.opacity="0.7",this.selectedPolygon=e,s.preventDefault(),s.stopPropagation()})),document.addEventListener("mousemove",(a=>{if(r&&this.selectedPolygon===e){const e=a.clientX-n,r=a.clientY-o;i=s.map((([t,n])=>[t+e,n+r]));const l=i.map((t=>t.join(","))).join(" ");t.querySelector("polygon").setAttribute("points",l);const c=document.querySelector("work-zone"),d=c.getBoundingClientRect();a.clientX>=d.left&&a.clientX<=d.right&&a.clientY>=d.top&&a.clientY<=d.bottom?c.classList.add("drag-over"):c.classList.remove("drag-over")}})),document.addEventListener("mouseup",(n=>{if(r&&this.selectedPolygon===e){r=!1,t.style.opacity="1";const o=document.querySelector("work-zone"),a=o.getBoundingClientRect();if(n.clientX>=a.left&&n.clientX<=a.right&&n.clientY>=a.top&&n.clientY<=a.bottom){const t=s.reduce(((t,[e,n])=>[t[0]+e,t[1]+n]),[0,0]).map((t=>t/s.length)),n=150-t[0],r=150-t[1],i=s.map((([t,e])=>[t+n,e+r])).map((t=>t.join(","))).join(" ");o.addPolygon(i),this.removePolygon(e)}else{const n=i.map((t=>t.join(","))).join(" ");t.querySelector("polygon").setAttribute("points",n),t.querySelector("polygon").dataset.points=n;const o=this.polygons.indexOf(e);o>-1&&(this.polygons[o]=n),this.savePolygons()}o.classList.remove("drag-over"),this.selectedPolygon=null,s=i}})),t.addEventListener("dblclick",(()=>{document.querySelector("work-zone").addPolygon(e)}))}removePolygon(t){const e=this.polygons.indexOf(t);e>-1&&this.polygons.splice(e,1);const n=this.querySelector("svg");Array.from(n.querySelectorAll("polygon")).forEach((e=>{e.getAttribute("points")!==t&&e.dataset.points!==t||e.parentElement.remove()})),this.savePolygons()}savePolygons(){try{t.setItem("polygons",JSON.stringify(this.polygons))}catch(t){console.warn("Не удалось сохранить полигоны")}}getPolygonsData(){return this.polygons}}customElements.define("buffer-zone",e)},825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var s=e[o]={id:o,exports:{}};return t[o](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{"use strict";var t=n(72),e=n.n(t),o=n(825),r=n.n(o),s=n(659),i=n.n(s),a=n(56),l=n.n(a),c=n(540),d=n.n(c),u=n(113),p=n.n(u),g=n(365),h={};h.styleTagTransform=p(),h.setAttributes=l(),h.insert=i().bind(null,"head"),h.domAPI=r(),h.insertStyleElement=d(),e()(g.A,h),g.A&&g.A.locals&&g.A.locals,n(798),n(533);const y="undefined"!=typeof localStorage?localStorage:{data:{},setItem(t,e){this.data[t]=e},getItem(t){return this.data[t]||null},removeItem(t){delete this.data[t]}};document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("createBtn").addEventListener("click",(()=>{const t=function(){const t=Math.floor(12*Math.random())+4;return Array.from({length:t},((t,e)=>{const n=50+300*Math.random(),o=50+200*Math.random(),r=20+40*Math.random(),s=Math.floor(5*Math.random())+3,i=[];for(let t=0;t<s;t++){const e=t/s*2*Math.PI,a=r*(.7+.6*Math.random()),l=n+Math.cos(e)*a,c=o+Math.sin(e)*a;i.push(`${l.toFixed(1)},${c.toFixed(1)}`)}return i.join(" ")}))}();document.querySelector("buffer-zone").renderPolygons(t)})),document.getElementById("saveBtn").addEventListener("click",(()=>{try{const t=document.querySelector("buffer-zone").getPolygonsData();y.setItem("polygons",JSON.stringify(t)),alert("Полигоны сохранены успешно!")}catch(t){alert("Ошибка при сохранении")}})),document.getElementById("resetBtn").addEventListener("click",(()=>{confirm("Вы уверены, что хотите сбросить все сохраненные данные?")&&(y.removeItem("polygons"),y.removeItem("workZonePolygons"),document.querySelector("buffer-zone").renderPolygons([]),document.querySelector("work-zone").clearPolygons(),alert("Данные сброшены!"))}))}))})()})();